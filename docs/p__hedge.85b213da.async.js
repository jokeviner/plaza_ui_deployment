(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[98],{20829:function(xe,ut,u){"use strict";u.r(ut),u.d(ut,{default:function(){return ne}});var Se=u(77576),Bt=u(12028),ye=u(17462),bt=u(76772),Fe=u(74379),P=u(38648),T=u(2824),m=u(90636),U=u(3182),Dt=u(21349),x=u(54433),F=u(5709),st=u(70719),R=u(11238),Te=u(18446),X=u(90860),jt=u(952),Pt=u(64317),C=u(56139),Ut=u(30381),Y=u.n(Ut),Ct=u(81354),Q=u.n(Ct);function At(a,t){return V.apply(this,arguments)}function V(){return V=(0,U.Z)((0,m.Z)().mark(function a(t,r){var n;return(0,m.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=Date.now(),i.abrupt("return",R.ZP.get("https://m1-coin.littlebrother.icu/api/",{method:"GET",headers:{"X-MBX-APIKEY":t.ak,"X-URL":{SPOT:"https://api.binance.com",SPOT_TEST:"https://testnet.binance.vision",FUTURE:"https://dapi.binance.com",FUTURE_TEST:"https://testnet.binancefuture.com"}["SPOT"+r]+"/api/v3/account"},params:{timestamp:n,recvWindow:5e3,signature:Q().HmacSHA256("timestamp=".concat(n,"&recvWindow=5000"),t.sk).toString()}}));case 2:case"end":return i.stop()}},a)})),V.apply(this,arguments)}function Rt(a,t){return $.apply(this,arguments)}function $(){return $=(0,U.Z)((0,m.Z)().mark(function a(t,r){var n;return(0,m.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=Date.now(),i.abrupt("return",R.ZP.get("https://m1-coin.littlebrother.icu/api/",{method:"GET",headers:{"X-MBX-APIKEY":t.ak,"X-URL":{SPOT:"https://api.binance.com",SPOT_TEST:"https://testnet.binance.vision",FUTURE:"https://dapi.binance.com",FUTURE_TEST:"https://testnet.binancefuture.com"}["FUTURE"+r]+"/dapi/v1/account"},params:{timestamp:n,recvWindow:5e3,signature:Q().HmacSHA256("timestamp=".concat(n,"&recvWindow=5000"),t.sk).toString()}}));case 2:case"end":return i.stop()}},a)})),$.apply(this,arguments)}function L(a,t,r,n){return N.apply(this,arguments)}function N(){return N=(0,U.Z)((0,m.Z)().mark(function a(t,r,n,o){var i,s,l;return(0,m.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return i=Date.now(),n.timestamp=i,s=Object.keys(n).map(function(c){return"".concat(c,"=").concat(n[c])}).join("&"),l=Q().HmacSHA256(s,o.sk).toString(),h.abrupt("return",(0,R.ZP)(r+"/api/?"+s+"&signature="+l,{method:"POST",headers:{"X-MBX-APIKEY":o.ak,"X-URL":t}}));case 5:case"end":return h.stop()}},a)})),N.apply(this,arguments)}function It(a,t,r,n,o){return J.apply(this,arguments)}function J(){return J=(0,U.Z)((0,m.Z)().mark(function a(t,r,n,o,i){var s,l,d,h;return(0,m.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(s=Date.now(),l={symbol:"BTCUSDT",side:"BUY",type:"MARKET",quantity:n,timestamp:s,recvWindow:5e3},!(!o||!o.ak)){S.next=4;break}return S.abrupt("return",new Promise(function(E,p){p({data:"\u672A\u6DFB\u52A0\u73B0\u8D27\u8D26\u6237"})}));case 4:return d=Object.keys(l).map(function(E){return"".concat(E,"=").concat(l[E])}).join("&"),h=Q().HmacSHA256(d,o.sk).toString(),S.abrupt("return",(0,R.ZP)(r+"/api/?"+d+"&signature="+h,{method:"POST",headers:{"X-MBX-APIKEY":o.ak,"X-URL":t+(i?"/api/v3/order/test":"/api/v3/order")}}));case 7:case"end":return S.stop()}},a)})),J.apply(this,arguments)}function Kt(a,t,r,n,o,i){return q.apply(this,arguments)}function q(){return q=(0,U.Z)((0,m.Z)().mark(function a(t,r,n,o,i,s){return(0,m.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!i||!i.ak)){d.next=2;break}return d.abrupt("return",new Promise(function(h,c){c("\u672A\u6DFB\u52A0\u671F\u8D27\u8D26\u6237")}));case 2:return d.abrupt("return",L(t+(s?"/dapi/v1/order/test":"/dapi/v1/order"),r,{symbol:n,side:"BUY",quantity:o,type:"MARKET"},i));case 3:case"end":return d.stop()}},a)})),q.apply(this,arguments)}function Ot(a,t,r,n,o,i,s){return _.apply(this,arguments)}function _(){return _=(0,U.Z)((0,m.Z)().mark(function a(t,r,n,o,i,s,l){var d;return(0,m.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(!s||!s.ak)){c.next=2;break}return c.abrupt("return",new Promise(function(S,E){E("\u672A\u6DFB\u52A0\u671F\u8D27\u8D26\u6237")}));case 2:return c.next=4,L(t+"/dapi/v1/leverage",r,{symbol:n,leverage:o},s);case 4:return d=c.sent,c.abrupt("return",L(t+(l?"/dapi/v1/order/test":"/dapi/v1/order"),r,{symbol:n,side:"SELL",quantity:i,type:"MARKET"},s));case 6:case"end":return c.stop()}},a)})),_.apply(this,arguments)}function wt(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date,t=a.getFullYear(),r=a.getMonth()+1,n=29,o,i;r>=1&&r<=3?(o=new Date(t,2,n),i=new Date(t,5,n)):r>=4&&r<=6?(o=new Date(t,5,n),i=new Date(t,8,n)):r>=7&&r<=9?(o=new Date(t,8,n),i=new Date(t,11,n)):(o=new Date(t,11,n),i=new Date(t+1,2,n));var s=Y()(a),l=Y()(o),d=Y()(i);return{quarter:[l.format("YYMMDD"),l.diff(s,"days")],nextQuarter:[d.format("YYMMDD"),d.diff(s,"days")]}}function it(a,t){if(!t)return a.actuals_price;if(t==a.quarter)return a.futures_price;if(t==a.nextQuarter)return a.futures_next_price}function Mt(a,t){return a.reduce(function(r,n,o){return r[n[t]]=n,r},{})}function ot(a){return a?a.reduce(function(t,r,n){return t[n]="[".concat(r.env,"]").concat(r.alias),t},{}):[]}function lt(a){if(a&&a.assets){var t=a.assets.find(function(r){return r.asset==="BTC"});return t}else return null}function ct(a){return a&&a.positions?a.positions.filter(function(t){return t.positionAmt!=0}):[]}function zt(a){var t=new C.Z(0);return a&&a.positions?(t=a.positions.reduce(function(r,n){return n.symbol.startsWith("BTCUSD")&&n.positionAmt!=0&&(r=C.Z.add(r,n.notionalValue)),r},t),t.toString()):0}function Qt(a){if(a&&a.positions){var t=a.positions.filter(function(r){return r.symbol.startsWith("BTCUSD")});return t.reduce(function(r,n){return r[n.symbol]=n.symbol,r},{})}else return{}}function Wt(a){var t={};return t[a.quarter]=a.quarter,t[a.nextQuarter]=a.nextQuarter,t}var e=u(85893),dt=function(a){var t=a.accounts,r=a.updateKey,n=a.type;if(!t)return(0,e.jsx)(e.Fragment,{});var o=ot(t);return(0,e.jsx)(jt.ZP,{submitter:!1,onValuesChange:function(s){Object.keys(s).length===0&&r(n,null),"account"in s&&r(n,{ak:t[s.account].ak,sk:t[s.account].sk})},children:(0,e.jsx)(Pt.Z,{name:"account",label:n=="spot"?"\u73B0\u8D27\u8D26\u6237":"\u5408\u7EA6\u8D26\u6237",valueEnum:o})})},Gt=function(a){var t=a.accounts,r=a.updateKey,n=a.balances;return t?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x.ZP,{ghost:!0,children:(0,e.jsx)(dt,{accounts:t,updateKey:r,type:"spot"})}),(!n||!n.USDT)&&(0,e.jsx)(X.Z,{active:!0}),n&&n.USDT&&(0,e.jsxs)(x.ZP,{wrap:!0,ghost:!0,children:[(0,e.jsx)(F.Z,{ghost:!0,statistic:{value:n.USDT.free,title:"USDT.free:"}}),(0,e.jsx)(F.Z,{ghost:!0,statistic:{value:n.BTC.free,title:"BTC.free:"}})]})]}):(0,e.jsx)(e.Fragment,{})},f=u(67294),kt=function(a){var t=a.accounts,r=a.updateKey,n=a.balances;if(!t)return(0,e.jsx)(e.Fragment,{});var o=ot(t),i=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u5408\u7EA6",dataIndex:"symbol",copyable:!0},{title:"x",dataIndex:"leverage"},{title:"\u6570\u91CF",dataIndex:"positionAmt"},{title:"\u4FDD\u8BC1\u91D1\u5360\u7528",dataIndex:"notionalValue"},{title:"\u6301\u4ED3\u6210\u672C",dataIndex:"entryPrice"},{title:"\u7EF4\u6301\u4FDD\u8BC1\u91D1",dataIndex:"maintMargin"},{title:"\u672A\u5B9E\u73B0\u76C8\u4E8F",dataIndex:"unrealizedProfit"},{title:"\u6700\u5927\u53EF\u5F00\u4ED3\u6570",dataIndex:"maxQty"}],s=null,l=[];return n&&n.assets&&(s=lt(n),l=ct(n)),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x.ZP,{ghost:!0,children:(0,e.jsx)(dt,{accounts:t,updateKey:r,type:"future"})}),(!n||!s)&&(0,e.jsx)(X.Z,{active:!0}),n&&s&&(0,e.jsxs)(x.ZP,{wrap:!0,ghost:!0,children:[(0,e.jsxs)(F.Z.Group,{children:[(0,e.jsx)(F.Z,{ghost:!0,statistic:{value:s.availableBalance,title:"\u53EF\u7528BTC:"}}),(0,e.jsx)(x.ZP.Divider,{}),(0,e.jsx)(F.Z,{ghost:!0,statistic:{value:s.maintMargin,title:"\u7EF4\u6301\u4FDD\u8BC1\u91D1:"}})]}),(0,e.jsxs)(F.Z.Group,{children:[(0,e.jsx)(F.Z,{ghost:!0,statistic:{value:s.marginBalance,title:"\u4FDD\u8BC1\u91D1\u4F59\u989D:"}}),(0,e.jsx)(x.ZP.Divider,{}),(0,e.jsx)(F.Z,{ghost:!0,statistic:{value:s.walletBalance,title:"\u94B1\u5305\u4F59\u989D:"}})]})]})]})},Ee=u(3515),Ht=u(44311),Xt=u(48717),K=F.Z.Statistic,Yt=function(a){var t=a.data,r=(0,f.useState)(!1),n=(0,T.Z)(r,2),o=n[0],i=n[1];return(0,e.jsx)(Xt.Z,{onResize:function(l){i(l.width<692)},children:(0,e.jsx)(Ht.Z,{offsetTop:45,children:(0,e.jsxs)(F.Z.Group,{direction:o?"column":"row",span:24,children:[(0,e.jsx)(F.Z,{title:"\u73B0\u8D27\u4EF7\u683C",statistic:{value:(+t.actuals_price).toFixed(2),suffix:"USDT",valueStyle:{fontWeight:"bold"}}}),(0,e.jsx)(F.Z,{title:"\u5F53\u5B63: "+t.quarter,statistic:{value:((t.futures_price-t.actuals_price)*100*365/(t.actuals_price*t.left_days)).toFixed(2),prefix:(0,e.jsx)("span",{style:{fontSize:16},children:"\u5E74\u5316"}),valueStyle:{fontWeight:"bold"},suffix:"%"},extra:(0,e.jsx)(K,{value:t.left_days,title:"\u5269\u4F59\u5929\u6570: ",layout:"horizontal"}),footer:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(K,{value:(+t.futures_price).toFixed(2),suffix:"USDT",title:"\u671F\u8D27\u4EF7\u683C",layout:"horizontal"}),(0,e.jsx)(K,{value:((t.futures_price-t.actuals_price)*100/t.actuals_price).toFixed(2),suffix:"%",title:"margin",layout:"horizontal"})]})}),(0,e.jsx)(F.Z,{title:"\u6B21\u5B63: "+t.nextQuarter,statistic:{value:((t.futures_next_price-t.actuals_price)*100*365/(t.actuals_price*t.left_next_days)).toFixed(2),prefix:(0,e.jsx)("span",{style:{fontSize:16},children:"\u5E74\u5316"}),valueStyle:{fontWeight:"bold"},suffix:"%"},extra:(0,e.jsx)(K,{value:t.left_next_days,title:"\u5269\u4F59\u5929\u6570: ",layout:"horizontal"}),footer:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(K,{value:(+t.futures_next_price).toFixed(2),suffix:"USDT",title:"\u671F\u8D27\u4EF7\u683C",layout:"horizontal"}),(0,e.jsx)(K,{value:((t.futures_next_price-t.actuals_price)*100/t.actuals_price).toFixed(2),suffix:"%",title:"margin",layout:"horizontal"})]})})]})})},"resize-observer")},Ze=u(57663),tt=u(71577),Be=u(71194),Vt=u(50146),$t=u(57119),Lt=u(6723),Nt=function(a){var t=a.balances,r=a.futureKey,n=a.futureUrl;if(!t)return(0,e.jsx)(e.Fragment,{});var o=Vt.Z.confirm,i=function(){o({title:"\u6CE8\u610F\uFF0C\u5207\u52FF\u91CD\u590D\u4E0B\u5355",icon:(0,e.jsx)($t.Z,{}),content:"\u4E00\u952E\u5E73\u4ED3\u5DF2\u4F7F\u7528\u5E02\u4EF7\u4E0B\u5355\uFF0C\u5207\u52FF\u91CD\u590D\u70B9\u51FB\uFF0C\u9632\u6B62\u91CD\u590D\u4E0B\u5355"})},s=function(c){var S=-1*c.positionAmt,E=Kt(n,"https://m1-coin.littlebrother.icu",c.symbol,S,r,!1);E.then(function(p){i(),P.Z.info({message:"\u4E00\u952E\u5E73\u4ED3\u5DF2\u4E0B\u5355",description:"",placement:"bottomRight",duration:15})}).catch(function(p){P.Z.warning({message:"\u4E00\u952E\u5E73\u4ED3\u4E0B\u5355\u5931\u8D25",description:JSON.stringify(p.data),placement:"bottomRight",duration:15})})},l=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u5408\u7EA6",dataIndex:"symbol",copyable:!0},{title:"x",dataIndex:"leverage"},{title:"\u6570\u91CF",dataIndex:"positionAmt"},{title:"\u4FDD\u8BC1\u91D1\u5360\u7528",dataIndex:"notionalValue"},{title:"\u6301\u4ED3\u6210\u672C",dataIndex:"entryPrice"},{title:"\u7EF4\u6301\u4FDD\u8BC1\u91D1",dataIndex:"maintMargin"},{title:"\u672A\u5B9E\u73B0\u76C8\u4E8F",dataIndex:"unrealizedProfit"},{title:"\u6700\u5927\u53EF\u5F00\u4ED3\u6570",dataIndex:"maxQty"},{title:"\u4E00\u952E\u5E73\u4ED3",valueType:"option",key:"option",render:function(c,S,E,p){return[(0,e.jsx)(tt.Z,{type:"link",onClick:function(){s(S)},children:"\u5E02\u4EF7"},"closePosition")]}}],d=[];return t&&t.assets&&(d=ct(t)),(0,e.jsx)(x.ZP,{span:{xs:24,l:12},collapsible:!0,title:"\u5408\u7EA6\u6301\u4ED3\u660E\u7EC6",defaultCollapsed:!0,children:t&&(0,e.jsx)(Lt.ZP,{columns:l,dataSource:d,rowKey:"symbol",search:!1,options:{setting:{listsHeight:400}},dateFormatter:"string"})})},be=u(22385),Jt=u(45777),W=u(80996),et=u(60014),pt=u(25641),qt=function(a){var t=a.marketData,r=a.spotKey,n=a.futureBtcSymbols,o=a.futureKey,i=a.spotUrl,s=a.futureUrl,l=(0,f.useRef)(),d=(0,f.useState)(!1),h=(0,T.Z)(d,2),c=h[0],S=h[1],E=function(){var Z,B,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(Z=l.current)===null||Z===void 0||(B=Z.validateFieldsReturnFormatValue)===null||B===void 0||B.call(Z).then(function(O){S(!0);var at=it(t,O.symbol),G=C.Z.floor(C.Z.div(C.Z.mul(O.btc,at),100)),w=It(i,"https://m1-coin.littlebrother.icu",O.btc,r,D),k=Ot(s,"https://m1-coin.littlebrother.icu",O.symbol,O.leverage,G.toString(),o,D);w.then(function(I){P.Z.info({message:(D?"[\u6D4B\u8BD5]":"")+"\u73B0\u8D27\u8D2D\u4E70\u5DF2\u4E0B\u5355",description:"",placement:"bottomRight",duration:15})}).catch(function(I){P.Z.warning({message:(D?"[\u6D4B\u8BD5]":"")+"\u73B0\u8D27\u8D2D\u4E70\u4E0B\u5355\u5931\u8D25",description:JSON.stringify(I.data),placement:"bottomRight",duration:15})}),k.then(function(I){P.Z.info({message:(D?"[\u6D4B\u8BD5]":"")+"\u671F\u6743\u5DF2\u4E0B\u5355",description:"",placement:"bottomRight",duration:15})}).catch(function(I){P.Z.warning({message:(D?"[\u6D4B\u8BD5]":"")+"\u671F\u6743\u4E0B\u5355\u5931\u8D25",description:JSON.stringify(I.data),placement:"bottomRight",duration:15})}),Promise.all([w,k]).finally(function(){S(!1)})})};return(0,f.useEffect)(function(){var p;l==null||(p=l.current)===null||p===void 0||p.setFieldsValue({symbol:n?Object.keys(n)[0]:""})},[n]),(0,e.jsxs)(W.A,{grid:!0,rowProps:{gutter:[16,16]},layout:"horizontal",submitter:!1,formRef:l,initialValues:{leverage:"1"},onValuesChange:function(Z){if("btc"in Z){var B,D=it(t,Z.symbol);l==null||(B=l.current)===null||B===void 0||B.setFieldsValue({btcAmt:Z.btc,btcCont:C.Z.floor(C.Z.div(C.Z.mul(Z.btc,D),100))})}},children:[(0,e.jsxs)(W.A.Group,{children:[(0,e.jsx)(et.Z,{label:"BTC",name:"btc",required:!0,colProps:{md:12,xl:8},rules:[{required:!0,message:"\u8F93\u5165\u6570\u5B57"}]}),(0,e.jsx)(pt.Z,{colProps:{md:12,xl:8},name:"leverage",label:"\u6760\u6746",valueEnum:Array.from({length:50}).reduce(function(p,Z,B){return p[B+1]="x"+(B+1),p},{})}),(0,e.jsx)(pt.Z,{colProps:{md:12,xl:8},name:"symbol",label:"\u5408\u7EA6",valueEnum:n})]}),(0,e.jsxs)(W.A.Group,{children:[(0,e.jsx)(et.Z,{readonly:!0,label:"\u73B0\u8D27\u4E70\u5165BTC\u6570\u91CF",name:"btcAmt",colProps:{md:12,xl:8}}),(0,e.jsx)(et.Z,{colProps:{md:12,xl:8},readonly:!0,label:"\u671F\u8D27\u5356\u51FA\u5F20\u6570\uFF08100USD/\u5F20\uFF09",name:"btcCont"})]}),(0,e.jsxs)(W.A.Group,{children:[(0,e.jsx)(tt.Z,{type:"primary",loading:c,onClick:function(){E(!1)},children:"\u5E02\u4EF7\u4E70\u5165BTC\u73B0\u8D27\uFF0C\u5356\u51FABTC\u671F\u6743"}),(0,e.jsx)(Jt.Z,{mouseEnterDelay:1,title:"\u7531\u4E8EAPI\u63A5\u53E3\u539F\u56E0\uFF0C\u6D4B\u8BD5\u5E76\u4E0D\u80FD\u68C0\u67E5\u51FA\u4F59\u989D\u4E0D\u8DB3\u7684\u95EE\u9898\uFF0C\u4E3B\u8981\u7528\u4E8E\u8D26\u6237\u72B6\u6001\u68C0\u67E5\uFF0C\u5B9E\u9645\u4EA4\u6613\u80FD\u5426\u6210\u529F\u4EE5\u5B9E\u9645\u4EA4\u6613\u4E3A\u51C6",children:(0,e.jsx)(tt.Z,{type:"link",loading:c,onClick:function(){E(!0)},children:"\u6D4B\u8BD5"})})]})]})},_t=u(11849),te=u(65893),ee=function(a){var t=a.balances,r=null;if(t&&t.assets)r=lt(t);else return(0,e.jsx)(e.Fragment,{});var n={height:66,width:66,percent:r.maintMargin/r.marginBalance,type:"meter",innerRadius:.8,autoFit:!1,padding:0,appendPadding:0,range:{ticks:[0,1/3,2/3,1],color:["#30BF78","#FAAD14","#F4664A"]},indicator:{pointer:{style:{lineWidth:3,stroke:"#D0D0D0"}},pin:{style:{lineWidth:3,r:5,stroke:"#D0D0D0"}}},axis:{label:null,subTickLine:null}};return(0,e.jsx)(F.Z,{title:"\u5408\u7EA6\u4FDD\u8BC1\u91D1\u6C34\u4F4D",chartPlacement:"left",statistic:{value:(r.maintMargin*100/r.marginBalance).toFixed(2),valueStyle:{lineHeight:"66px"},suffix:"%"},chart:(0,e.jsx)(te.Z,(0,_t.Z)({},n))})},ae=function(){var a=(0,U.Z)((0,m.Z)().mark(function t(){return(0,m.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,st.WY)("https://m1-coin.littlebrother.icu/account/",{method:"GET",headers:{"Content-Type":"application/json"}}));case 1:case"end":return n.stop()}},t)}));return function(){return a.apply(this,arguments)}}(),ne=function(){var a=(0,f.useState)("_TEST"),t=(0,T.Z)(a,2),r=t[0],n=t[1],o=(0,f.useState)({actuals_price:0,futures_price:0,futures_next_price:0,left_days:10,left_next_days:10,quarter:"BTCUSD_",nextQuarter:"BTCUSD"}),i=(0,T.Z)(o,2),s=i[0],l=i[1],d=function(){var y=wt(),j=R.ZP.get({SPOT:"https://api.binance.com",SPOT_TEST:"https://testnet.binance.vision",FUTURE:"https://dapi.binance.com",FUTURE_TEST:"https://testnet.binancefuture.com"}["SPOT"+r]+"/api/v3/ticker/price?symbol=BTCUSDT"),A=R.ZP.get({SPOT:"https://api.binance.com",SPOT_TEST:"https://testnet.binance.vision",FUTURE:"https://dapi.binance.com",FUTURE_TEST:"https://testnet.binancefuture.com"}["FUTURE"+r]+"/dapi/v1/ticker/price?symbol=BTCUSD_".concat(y.quarter[0])),z=R.ZP.get({SPOT:"https://api.binance.com",SPOT_TEST:"https://testnet.binance.vision",FUTURE:"https://dapi.binance.com",FUTURE_TEST:"https://testnet.binancefuture.com"}["FUTURE"+r]+"/dapi/v1/ticker/price?symbol=BTCUSD_".concat(y.nextQuarter[0]));Promise.all([j,A,z]).then(function(g){var v=(0,T.Z)(g,3),me=v[0],ve=v[1],he=v[2],ge={actuals_price:me.price,futures_price:ve[0].price,futures_next_price:he[0].price,left_days:y.quarter[1],left_next_days:y.nextQuarter[1],quarter:"BTCUSD_"+y.quarter[0],nextQuarter:"BTCUSD_"+y.nextQuarter[0]};l(ge)})};(0,f.useEffect)(function(){var b=setInterval(function(){d()},1e3);return function(){return clearInterval(b)}},[r]);var h=(0,f.useState)(null),c=(0,T.Z)(h,2),S=c[0],E=c[1];(0,f.useEffect)(function(){E(Wt(s))},[s.quarter]);var p=(0,st.QT)(ae),Z=(0,f.useState)(5),B=(0,T.Z)(Z,2),D=B[0],O=B[1],at=(0,f.useState)(0),G=(0,T.Z)(at,2),w=G[0],k=G[1],I=(0,f.useState)(0),ft=(0,T.Z)(I,2),nt=ft[0],re=ft[1],ue=(0,f.useState)(null),mt=(0,T.Z)(ue,2),H=mt[0],se=mt[1],ie=(0,f.useState)(null),vt=(0,T.Z)(ie,2),M=vt[0],oe=vt[1],ht=function(y,j){var A=y=="spot"?se:oe;A(j)},le=(0,f.useState)({}),gt=(0,T.Z)(le,2),ce=gt[0],xt=gt[1],St=function(){var b=(0,U.Z)((0,m.Z)().mark(function y(){var j,A;return(0,m.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(H){g.next=2;break}return g.abrupt("return");case 2:return g.prev=2,g.next=5,At(H,r);case 5:j=g.sent,A=Mt(j.balances,"asset"),P.Z.close("updateSpotBalance"),xt(A),k(A.BTC.free),g.next=17;break;case 12:g.prev=12,g.t0=g.catch(2),P.Z.warning({message:"\u73B0\u8D27\u8D26\u6237\u4FE1\u606F\u83B7\u53D6\u5931\u8D25",key:"updateSpotBalance",description:JSON.stringify(g.t0.data),placement:"bottomRight",duration:15}),console.log(g.t0.data),xt({});case 17:case"end":return g.stop()}},y,null,[[2,12]])}));return function(){return b.apply(this,arguments)}}();(0,f.useEffect)(function(){St();var b=setInterval(St,D*1e3);return function(){clearInterval(b)}},[H,r]);var de=(0,f.useState)({}),yt=(0,T.Z)(de,2),rt=yt[0],Ft=yt[1],Tt=function(){var b=(0,U.Z)((0,m.Z)().mark(function y(){var j,A,z;return(0,m.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(M){v.next=2;break}return v.abrupt("return");case 2:return v.prev=2,v.next=5,Rt(M,r);case 5:j=v.sent,A=Qt(j),z=zt(j),Ft(j),re(z),P.Z.close("updateFutureBalance"),v.next=18;break;case 13:v.prev=13,v.t0=v.catch(2),P.Z.warning({message:"\u5408\u7EA6\u8D26\u6237\u4FE1\u606F\u83B7\u53D6\u5931\u8D25",key:"updateFutureBalance",description:JSON.stringify(v.t0.data),placement:"bottomRight",duration:15}),console.log(v.t0),Ft({});case 18:case"end":return v.stop()}},y,null,[[2,13]])}));return function(){return b.apply(this,arguments)}}();(0,f.useEffect)(function(){Tt();var b=setInterval(Tt,D*1e3);return function(){clearInterval(b)}},[M,r]);var pe=(0,f.useState)(null),Et=(0,T.Z)(pe,2),Zt=Et[0],fe=Et[1];return(0,f.useEffect)(function(){typeof+w=="number"&&typeof+nt=="number"&&fe(C.Z.add(w,nt))},[w,nt,r]),(0,e.jsxs)(Dt.Z,{children:[r=="_TEST"&&(0,e.jsx)(bt.Z,{message:"\u6CE8\u610F\uFF1A\u5F53\u524D\u4E3A\u6D4B\u8BD5\u6A21\u5F0F\uFF0C\u8C03\u7528\u7684\u63A5\u53E3\u5747\u4E3A\u5E01\u5B89\u6D4B\u8BD5\u7F51\u7EDC\uFF0C\u6D4B\u8BD5\u73AF\u5883\u53EF\u80FD\u56E0\u4E3A\u4EF7\u683C\u5DEE\u8DDD\u8F83\u5927\u5BFC\u81F4\u4E0B\u5355\u5931\u8D25\uFF08PERCENT_PRICE filter limit\uFF09\u7B49\u5176\u4ED6\u5F02\u5E38\u73B0\u8C61",banner:!0}),(0,e.jsx)(x.ZP,{ghost:!0,style:{marginBottom:20},title:"\u73B0\u8D27\u671F\u8D27\u5BF9\u51B2\u5957\u5229(BTC)",extra:(0,e.jsx)(Bt.Z,{defaultChecked:r!="_TEST",checkedChildren:"\u7EBF\u4E0A",unCheckedChildren:"\u6D4B\u8BD5",onChange:function(y){n(y?"":"_TEST")}}),children:(0,e.jsx)(Yt,{data:s})}),p.loading==!1&&p.data&&(0,e.jsxs)(x.ZP,{wrap:!0,style:{marginBottom:20},bodyStyle:{padding:0},children:[(0,e.jsx)(x.ZP,{colSpan:12,children:(0,e.jsx)(Gt,{accounts:p.data,updateKey:ht,balances:ce})}),(0,e.jsx)(x.ZP,{colSpan:12,children:(0,e.jsx)(kt,{accounts:p.data,updateKey:ht,balances:rt})})]}),(0,e.jsx)(x.ZP,{ghost:!0,style:{marginBottom:20},children:(0,e.jsx)(Nt,{balances:rt,futureUrl:{SPOT:"https://api.binance.com",SPOT_TEST:"https://testnet.binance.vision",FUTURE:"https://dapi.binance.com",FUTURE_TEST:"https://testnet.binancefuture.com"}["FUTURE"+r],futureKey:M})}),(0,e.jsxs)(x.ZP,{wrap:!0,style:{marginBottom:20},children:[(0,e.jsx)(x.ZP,{ghost:!0,colSpan:{xs:24,md:12,lg:12},children:(0,e.jsx)(F.Z,{title:"BTC\u98CE\u9669\u655E\u53E3",statistic:{value:Zt&&Zt.toString(),suffix:"BTC",valueStyle:{fontWeight:"bold",lineHeight:"66px"}}})}),(0,e.jsx)(x.ZP,{ghost:!0,colSpan:{xs:24,md:12,lg:12},children:(0,e.jsx)(ee,{balances:rt})})]}),(0,e.jsx)(x.ZP,{style:{marginBottom:20},children:(0,e.jsx)(qt,{futureBtcSymbols:S,marketData:s,spotKey:H,futureKey:M,spotUrl:{SPOT:"https://api.binance.com",SPOT_TEST:"https://testnet.binance.vision",FUTURE:"https://dapi.binance.com",FUTURE_TEST:"https://testnet.binancefuture.com"}["SPOT"+r],futureUrl:{SPOT:"https://api.binance.com",SPOT_TEST:"https://testnet.binance.vision",FUTURE:"https://dapi.binance.com",FUTURE_TEST:"https://testnet.binancefuture.com"}["FUTURE"+r]})})]})}},42480:function(){}}]);
